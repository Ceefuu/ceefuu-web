<!DOCTYPE html>
<html>
  <head>
    <script src="https://js.stripe.com/v3/"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-216601392-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-216601392-1');
    </script>

    <title>
      <%= content_for?(:html_title) ? yield(:html_title) : "Ceefuu - Share your knowledge 1:1 and earn money" %>
    </title>

    <meta name="viewport" id="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge"/>
    
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
    <%= favicon_link_tag asset_path('website-logo-icon.png') %>
    
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>

    <% if content_for?(:head) %>
      <%= yield(:head) %>
    <% end %>

  </head>

  <body>
    <% unless controller_name == "registrations" or controller_name == "sessions" or controller_name == "passwords" or controller_name == "confirmations" or controller_name == "unlocks" %>
    <%= render  "shared/navbar" %>
     <% end %>
    <%= render 'shared/notification' %>
   
    <%= yield %>
  </body>
</html>
<script>
window.addEventListener('orientationchange', doOnOrientationChange);

function doOnOrientationChange()
{
  var bPortrait = document.documentElement.clientWidth < document.documentElement.clientHeight;
  if(bPortrait)
  {      
    document.getElementById("viewport").setAttribute("content","width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1");
  }
  else
  {
    document.getElementById("viewport").setAttribute("content","width=900px, user-scalable=yes, maximum-scale=2, minimum-scale=0.25");
  }
}
</script>